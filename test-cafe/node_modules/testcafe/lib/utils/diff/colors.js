"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.setColors = exports.colorLines = exports.DIFF_COLORS = void 0;
const lodash_1 = require("lodash");
exports.DIFF_COLORS = {
    DIFF_ADDED: 'diff-added',
    DIFF_REMOVED: 'diff-removed',
    DIFF_NOT_MODIFIED: 'diff-not-modified'
};
function color(name, str) {
    return `<span class="${name}">${lodash_1.escape(str)}</span>`;
}
function colorLines(name, str) {
    return str
        .split('\n')
        .map((line) => {
        return color(name, line);
    })
        .join('\n');
}
exports.colorLines = colorLines;
function setColors(line) {
    if (line[0] === '+')
        return colorLines(exports.DIFF_COLORS.DIFF_ADDED, line);
    if (line[0] === '-')
        return colorLines(exports.DIFF_COLORS.DIFF_REMOVED, line);
    return colorLines(exports.DIFF_COLORS.DIFF_NOT_MODIFIED, line);
}
exports.setColors = setColors;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29sb3JzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3V0aWxzL2RpZmYvY29sb3JzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLG1DQUE4QztBQUVqQyxRQUFBLFdBQVcsR0FBRztJQUN2QixVQUFVLEVBQVMsWUFBWTtJQUMvQixZQUFZLEVBQU8sY0FBYztJQUNqQyxpQkFBaUIsRUFBRSxtQkFBbUI7Q0FDekMsQ0FBQztBQUVGLFNBQVMsS0FBSyxDQUFFLElBQVksRUFBRSxHQUFXO0lBQ3JDLE9BQU8sZ0JBQWdCLElBQUksS0FBSyxlQUFVLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQztBQUM3RCxDQUFDO0FBRUQsU0FBZ0IsVUFBVSxDQUFFLElBQVksRUFBRSxHQUFXO0lBQ2pELE9BQU8sR0FBRztTQUNMLEtBQUssQ0FBQyxJQUFJLENBQUM7U0FDWCxHQUFHLENBQUMsQ0FBQyxJQUFZLEVBQVUsRUFBRTtRQUMxQixPQUFPLEtBQUssQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDN0IsQ0FBQyxDQUFDO1NBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ3BCLENBQUM7QUFQRCxnQ0FPQztBQUVELFNBQWdCLFNBQVMsQ0FBRSxJQUFZO0lBQ25DLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUc7UUFDZixPQUFPLFVBQVUsQ0FBQyxtQkFBVyxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUVwRCxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHO1FBQ2YsT0FBTyxVQUFVLENBQUMsbUJBQVcsQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFFdEQsT0FBTyxVQUFVLENBQUMsbUJBQVcsQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUMzRCxDQUFDO0FBUkQsOEJBUUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBlc2NhcGUgYXMgZXNjYXBlSFRNTCB9IGZyb20gJ2xvZGFzaCc7XG5cbmV4cG9ydCBjb25zdCBESUZGX0NPTE9SUyA9IHtcbiAgICBESUZGX0FEREVEOiAgICAgICAgJ2RpZmYtYWRkZWQnLFxuICAgIERJRkZfUkVNT1ZFRDogICAgICAnZGlmZi1yZW1vdmVkJyxcbiAgICBESUZGX05PVF9NT0RJRklFRDogJ2RpZmYtbm90LW1vZGlmaWVkJ1xufTtcblxuZnVuY3Rpb24gY29sb3IgKG5hbWU6IHN0cmluZywgc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiBgPHNwYW4gY2xhc3M9XCIke25hbWV9XCI+JHtlc2NhcGVIVE1MKHN0cil9PC9zcGFuPmA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb2xvckxpbmVzIChuYW1lOiBzdHJpbmcsIHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gc3RyXG4gICAgICAgIC5zcGxpdCgnXFxuJylcbiAgICAgICAgLm1hcCgobGluZTogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICAgICAgICAgIHJldHVybiBjb2xvcihuYW1lLCBsaW5lKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmpvaW4oJ1xcbicpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0Q29sb3JzIChsaW5lOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGlmIChsaW5lWzBdID09PSAnKycpXG4gICAgICAgIHJldHVybiBjb2xvckxpbmVzKERJRkZfQ09MT1JTLkRJRkZfQURERUQsIGxpbmUpO1xuXG4gICAgaWYgKGxpbmVbMF0gPT09ICctJylcbiAgICAgICAgcmV0dXJuIGNvbG9yTGluZXMoRElGRl9DT0xPUlMuRElGRl9SRU1PVkVELCBsaW5lKTtcblxuICAgIHJldHVybiBjb2xvckxpbmVzKERJRkZfQ09MT1JTLkRJRkZfTk9UX01PRElGSUVELCBsaW5lKTtcbn1cbiJdfQ==